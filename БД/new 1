CREATE TABLE usrs (
    id SERIAL PRIMARY KEY,
    name TEXT NOT NULL,
	surname TEXT NOT NULL,
	email TEXT NOT NULL,
	tnumber TEXT NOT NULL,
	login TEXT  NOT NULL,
	password TEXT  NOT NULL,
	role INTEGER NOT NULL
);

CREATE TABLE objs (
    id SERIAL PRIMARY KEY,
    city TEXT NOT NULL,
	address TEXT NOT NULL,
	flat INTEGER NOT NULL,
	square REAL NOT NULL,
	cost INTEGER NOT NULL,
	id_client INTEGER REFERENCES usrs(id) ON DELETE CASCADE,
	description TEXT NOT NULL,
	id_agent INTEGER REFERENCES usrs(id),
	status INTEGER NOT NULL,
	date TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE favorites (
	id SERIAL PRIMARY KEY,
    client_id INTEGER REFERENCES usrs(id),
    obj_id INTEGER REFERENCES objs(id)
);
CREATE TABLE checked (
	id SERIAL PRIMARY KEY,
    client_id INTEGER REFERENCES usrs(id),
    obj_id INTEGER REFERENCES objs(id)
);
CREATE TABLE imgs (
	id SERIAL PRIMARY KEY,
    obj_id INTEGER REFERENCES objs(id),
	link TEXT
);